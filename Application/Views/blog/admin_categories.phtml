<?php

$this->_helper->appendJSFile('datatables/datatables.min.js');
$this->_helper->appendJSFile('datatables/datatables.bootstrap.min.js');
$this->_helper->appendJSInline('
    $(document).ready(function() {
        $(".table").DataTable({
            "language": ' . $this->translate('datatable_language') . ',
            "order": [[ 3, "desc" ]],
            "columnDefs": [{
                "orderable": false, "targets": [0, 4],
            }],
            "columns": [
              { "width": "20px" },
              null,
              { "width": "80px" },
              { "width": "80px" },
              { "width": "160px" }
            ]
        });
        $(".delete-single").on("click", function() {
            $("#singleModal").modal({backdrop: "static"});
            $("#item_id").val($(this).attr("data-id"));
            console.log($(this).attr("data-id"));
        });
    });
');
$this->_helper->appendCSSFile('datatables/datatables.min.css');
?>
<?=

$this->partial('admin_index_table.phtml', [
    'fields' => [
            [
            'field' => 'id',
            'type' => 'primary_key',
            'label' => 'ID'
        ],
            [
            'field' => 'category_contents[0]->name',
            'type' => '',
            'label' => 'Title'
        ],
            [
            'field' => 'is_online',
            'type' => 'boolean',
            'label' => 'Online'
        ],
            [
            'field' => 'is_enabled',
            'type' => 'boolean',
            'label' => 'Enabled'
        ]
    ],
    'messages' => null,
    'items' => $this->categories,
    'modulename' => 'blog',
    'modulehandler' => 'categories',
    'permissions' => [
        'read' => true,
        'create' => true,
        'update' => true,
        'delete' => true
    ]
]);
?>
